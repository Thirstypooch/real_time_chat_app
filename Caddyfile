{
    # Enable on-demand TLS for secure connections
    on_demand_tls {
        ask http://localhost:2019/ask
    }
}

# Define the main site configuration
:443 {
    # Set the root directory to the current folder
    root * /usr/share/caddy

    # Enable file server to serve static files
    file_server

    # Rewrite all other requests to index.html for SPA routing
    try_files {path} /index.html

    # Enable gzip and zstd compression for better performance
    encode gzip zstd
}